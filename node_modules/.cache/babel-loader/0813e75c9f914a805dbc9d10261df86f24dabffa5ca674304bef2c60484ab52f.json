{"ast":null,"code":"var _jsxFileName = \"/Users/ignaciofilippi/Documents/test/test-leo/coding-assignment/src/components/Movie.jsx\",\n  _s = $RefreshSig$();\nimport { useDispatch, useSelector } from 'react-redux';\nimport starredSlice from '../data/starredSlice';\nimport watchLaterSlice from '../data/watchLaterSlice';\nimport placeholder from '../assets/not-found-500X750.jpeg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Movie = _ref => {\n  _s();\n  var _movie$release_date;\n  let {\n    movie,\n    viewTrailer,\n    closeCard\n  } = _ref;\n  const state = useSelector(state => state);\n  const {\n    starred,\n    watchLater\n  } = state;\n  const {\n    starMovie,\n    unstarMovie\n  } = starredSlice.actions;\n  const {\n    addToWatchLater,\n    removeFromWatchLater\n  } = watchLaterSlice.actions;\n  const dispatch = useDispatch();\n  const myClickHandler = e => {\n    if (!e) var e = window.event;\n    e.cancelBubble = true;\n    if (e.stopPropagation) e.stopPropagation();\n    e.target.parentElement.parentElement.classList.remove('opened');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-100 d-flex\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper column-2 d-flex\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        onClick: e => e.currentTarget.classList.add('opened'),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overlay\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 27,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info_panel\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overview\",\n              children: movie.overview\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 29,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"year\",\n              children: (_movie$release_date = movie.release_date) === null || _movie$release_date === void 0 ? void 0 : _movie$release_date.substring(0, 4)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 30,\n              columnNumber: 29\n            }, this), !starred.starredMovies.map(movie => movie.id).includes(movie.id) ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"btn-star\",\n              \"data-testid\": \"starred-link\",\n              onClick: () => {\n                var _movie$release_date2;\n                return dispatch(starMovie({\n                  id: movie.id,\n                  overview: movie.overview,\n                  release_date: (_movie$release_date2 = movie.release_date) === null || _movie$release_date2 === void 0 ? void 0 : _movie$release_date2.substring(0, 4),\n                  poster_path: movie.poster_path,\n                  title: movie.title\n                }));\n              },\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 41,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 32,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"btn-star\",\n              \"data-testid\": \"unstar-link\",\n              onClick: () => dispatch(unstarMovie(movie)),\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-star-fill\",\n                \"data-testid\": \"star-fill\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 33\n            }, this), !watchLater.watchLaterMovies.map(movie => movie.id).includes(movie.id) ? /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              \"data-testid\": \"watch-later\",\n              className: \"btn btn-light btn-watch-later\",\n              onClick: () => {\n                var _movie$release_date3;\n                return dispatch(addToWatchLater({\n                  id: movie.id,\n                  overview: movie.overview,\n                  release_date: (_movie$release_date3 = movie.release_date) === null || _movie$release_date3 === void 0 ? void 0 : _movie$release_date3.substring(0, 4),\n                  poster_path: movie.poster_path,\n                  title: movie.title\n                }));\n              },\n              children: \"Watch Later\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              \"data-testid\": \"remove-watch-later\",\n              className: \"btn btn-light btn-watch-later blue\",\n              onClick: () => dispatch(removeFromWatchLater(movie)),\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-check\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 189\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-dark\",\n              onClick: () => viewTrailer(movie),\n              children: \"View Trailer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"center-block\",\n            src: movie.poster_path ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}` : placeholder,\n            alt: \"Movie poster\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"title mobile-card\",\n          children: movie.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"title\",\n          children: movie.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"close\",\n          onClick: e => myClickHandler(e),\n          \"aria-label\": \"Close\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            \"aria-hidden\": \"true\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }, this);\n};\n_s(Movie, \"lAwOUIsiQt7W5pDkNmeY6/8xQ4s=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c = Movie;\nexport default Movie;\nvar _c;\n$RefreshReg$(_c, \"Movie\");","map":{"version":3,"names":["useDispatch","useSelector","starredSlice","watchLaterSlice","placeholder","Movie","movie","viewTrailer","closeCard","state","starred","watchLater","starMovie","unstarMovie","actions","addToWatchLater","removeFromWatchLater","dispatch","myClickHandler","e","window","event","cancelBubble","stopPropagation","target","parentElement","classList","remove","currentTarget","add","overview","release_date","substring","starredMovies","map","id","includes","poster_path","title","watchLaterMovies"],"sources":["/Users/ignaciofilippi/Documents/test/test-leo/coding-assignment/src/components/Movie.jsx"],"sourcesContent":["import { useDispatch, useSelector } from 'react-redux'\nimport starredSlice from '../data/starredSlice'\nimport watchLaterSlice from '../data/watchLaterSlice'\nimport placeholder from '../assets/not-found-500X750.jpeg'\n\nconst Movie = ({ movie, viewTrailer, closeCard }) => {\n\n    const state = useSelector((state) => state)\n    const { starred, watchLater } = state\n    const { starMovie, unstarMovie } = starredSlice.actions\n    const { addToWatchLater, removeFromWatchLater } = watchLaterSlice.actions\n\n    const dispatch = useDispatch()\n\n    const myClickHandler = (e) => {\n        if (!e) var e = window.event\n        e.cancelBubble = true\n        if (e.stopPropagation) e.stopPropagation()\n        e.target.parentElement.parentElement.classList.remove('opened')\n    }\n\n    return (\n        <div className='w-100 d-flex'>\n            <div className=\"wrapper column-2 d-flex\">\n                <div className=\"card\" onClick={(e) => e.currentTarget.classList.add('opened')} >\n                    <div className=\"card-body text-center\">\n                        <div className=\"overlay\" />\n                        <div className=\"info_panel\">\n                            <div className=\"overview\">{movie.overview}</div>\n                            <div className=\"year\">{movie.release_date?.substring(0, 4)}</div>\n                            {!starred.starredMovies.map(movie => movie.id).includes(movie.id) ? (\n                                <span className=\"btn-star\" data-testid=\"starred-link\" onClick={() =>\n                                    dispatch(starMovie({\n                                        id: movie.id,\n                                        overview: movie.overview,\n                                        release_date: movie.release_date?.substring(0, 4),\n                                        poster_path: movie.poster_path,\n                                        title: movie.title\n                                    })\n                                )}>\n                                    <i className=\"bi bi-star\" />\n                                </span>\n                            ) : (\n                                <span className=\"btn-star\" data-testid=\"unstar-link\" onClick={() => dispatch(unstarMovie(movie))}>\n                                    <i className=\"bi bi-star-fill\" data-testid=\"star-fill\" />\n                                </span>\n                            )}\n                            {!watchLater.watchLaterMovies.map(movie => movie.id).includes(movie.id) ? (\n                                <button type=\"button\" data-testid=\"watch-later\" className=\"btn btn-light btn-watch-later\" onClick={() => dispatch(addToWatchLater({\n                                        id: movie.id,\n                                        overview: movie.overview,\n                                        release_date: movie.release_date?.substring(0, 4),\n                                        poster_path: movie.poster_path,\n                                        title: movie.title\n                                }))}>Watch Later</button>\n                            ) : (\n                                <button type=\"button\" data-testid=\"remove-watch-later\" className=\"btn btn-light btn-watch-later blue\" onClick={() => dispatch(removeFromWatchLater(movie))}><i className=\"bi bi-check\"></i></button>\n                            )}\n                            <button type=\"button\" className=\"btn btn-dark\" onClick={() => viewTrailer(movie)}>View Trailer</button>\n                        </div>\n                        <img className=\"center-block\" src={(movie.poster_path) ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}` : placeholder} alt=\"Movie poster\" />\n                    </div>\n                    <h6 className=\"title mobile-card\">{movie.title}</h6>\n                    <h6 className=\"title\">{movie.title}</h6>\n                    <button type=\"button\" className=\"close\" onClick={(e) => myClickHandler(e)} aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Movie\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}