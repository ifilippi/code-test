{"ast":null,"code":"var _jsxFileName = \"/Users/ignaciofilippi/Documents/test/test-leo/coding-assignment/src/components/Movie.jsx\",\n  _s = $RefreshSig$();\nimport { useDispatch, useSelector } from 'react-redux';\nimport starredSlice from '../data/starredSlice';\nimport watchLaterSlice from '../data/watchLaterSlice';\nimport placeholder from '../assets/not-found-500X750.jpeg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Movie = _ref => {\n  _s();\n  var _movie$release_date;\n  let {\n    movie,\n    viewTrailer\n  } = _ref;\n  const state = useSelector(state => state);\n  const {\n    starred,\n    watchLater\n  } = state;\n  const {\n    starMovie,\n    unstarMovie\n  } = starredSlice.actions;\n  const {\n    addToWatchLater,\n    removeFromWatchLater\n  } = watchLaterSlice.actions;\n  const dispatch = useDispatch();\n  const closeCard = (e, viewTrailer) => {\n    e.stopPropagation();\n    viewTrailer === 'viewTrailer' ? e.target.parentElement.parentElement.parentElement.classList.remove('opened') : e.target.parentElement.parentElement.classList.remove('opened');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper column-2\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      onClick: e => e.currentTarget.classList.add('opened'),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overlay\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info_panel\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overview\",\n            children: movie.overview\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"year\",\n            children: (_movie$release_date = movie.release_date) === null || _movie$release_date === void 0 ? void 0 : _movie$release_date.substring(0, 4)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 13\n          }, this), !starred.starredMovies.map(movie => movie.id).includes(movie.id) ? /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"btn-star\",\n            \"data-testid\": \"starred-link\",\n            onClick: () => {\n              var _movie$release_date2;\n              return dispatch(starMovie({\n                id: movie.id,\n                overview: movie.overview,\n                release_date: (_movie$release_date2 = movie.release_date) === null || _movie$release_date2 === void 0 ? void 0 : _movie$release_date2.substring(0, 4),\n                poster_path: movie.poster_path,\n                title: movie.title\n              }));\n            },\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-star\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"btn-star\",\n            \"data-testid\": \"unstar-link\",\n            onClick: () => dispatch(unstarMovie(movie)),\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-star-fill\",\n              \"data-testid\": \"star-fill\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 17\n          }, this), !watchLater.watchLaterMovies.map(movie => movie.id).includes(movie.id) ? /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            \"data-testid\": \"watch-later\",\n            className: \"btn btn-light btn-watch-later\",\n            onClick: () => {\n              var _movie$release_date3;\n              return dispatch(addToWatchLater({\n                id: movie.id,\n                overview: movie.overview,\n                release_date: (_movie$release_date3 = movie.release_date) === null || _movie$release_date3 === void 0 ? void 0 : _movie$release_date3.substring(0, 4),\n                poster_path: movie.poster_path,\n                title: movie.title\n              }));\n            },\n            children: \"Watch Later\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            \"data-testid\": \"remove-watch-later\",\n            className: \"btn btn-light btn-watch-later blue\",\n            onClick: () => dispatch(removeFromWatchLater(movie)),\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-check\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-dark\",\n            onClick: e => {\n              closeCard(e, 'viewTrailer');\n              viewTrailer(movie);\n            },\n            children: \"View Trailer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"center-block\",\n          src: movie.poster_path ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}` : placeholder,\n          alt: \"Movie poster\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n        className: \"title mobile-card\",\n        children: movie.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n        className: \"title\",\n        children: movie.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"close\",\n        onClick: e => closeCard(e),\n        \"aria-label\": \"Close\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          \"aria-hidden\": \"true\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_s(Movie, \"lAwOUIsiQt7W5pDkNmeY6/8xQ4s=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c = Movie;\nexport default Movie;\nvar _c;\n$RefreshReg$(_c, \"Movie\");","map":{"version":3,"names":["useDispatch","useSelector","starredSlice","watchLaterSlice","placeholder","Movie","movie","viewTrailer","state","starred","watchLater","starMovie","unstarMovie","actions","addToWatchLater","removeFromWatchLater","dispatch","closeCard","e","stopPropagation","target","parentElement","classList","remove","currentTarget","add","overview","release_date","substring","starredMovies","map","id","includes","poster_path","title","watchLaterMovies"],"sources":["/Users/ignaciofilippi/Documents/test/test-leo/coding-assignment/src/components/Movie.jsx"],"sourcesContent":["import {useDispatch, useSelector} from 'react-redux'\nimport starredSlice from '../data/starredSlice'\nimport watchLaterSlice from '../data/watchLaterSlice'\nimport placeholder from '../assets/not-found-500X750.jpeg'\n\nconst Movie = ({movie, viewTrailer}) => {\n\n  const state = useSelector((state) => state)\n  const {starred, watchLater} = state\n  const {starMovie, unstarMovie} = starredSlice.actions\n  const {addToWatchLater, removeFromWatchLater} = watchLaterSlice.actions\n\n  const dispatch = useDispatch()\n\n  const closeCard = (e, viewTrailer : string) => {\n    e.stopPropagation();\n    (viewTrailer === 'viewTrailer')\n      ? e\n        .target\n        .parentElement\n        .parentElement\n        .parentElement\n        .classList\n        .remove('opened')\n      : e\n        .target\n        .parentElement\n        .parentElement\n        .classList\n        .remove('opened');\n  }\n\n  return (\n    <div className=\"wrapper column-2\">\n      <div className=\"card\" onClick={(e) => e.currentTarget.classList.add('opened')}>\n        <div className=\"card-body text-center\">\n          <div className=\"overlay\"/>\n          <div className=\"info_panel\">\n            <div className=\"overview\">{movie.overview}</div>\n            <div className=\"year\">{movie.release_date\n                ?.substring(0, 4)}</div>\n            {!starred\n              .starredMovies\n              .map(movie => movie.id)\n              .includes(movie.id)\n              ? (\n                <span\n                  className=\"btn-star\"\n                  data-testid=\"starred-link\"\n                  onClick={() => dispatch(starMovie({\n                  id: movie.id,\n                  overview: movie.overview,\n                  release_date: movie.release_date\n                    ?.substring(0, 4),\n                  poster_path: movie.poster_path,\n                  title: movie.title\n                }))}>\n                  <i className=\"bi bi-star\"/>\n                </span>\n              )\n              : (\n                <span\n                  className=\"btn-star\"\n                  data-testid=\"unstar-link\"\n                  onClick={() => dispatch(unstarMovie(movie))}>\n                  <i className=\"bi bi-star-fill\" data-testid=\"star-fill\"/>\n                </span>\n              )}\n            {!watchLater\n              .watchLaterMovies\n              .map(movie => movie.id)\n              .includes(movie.id)\n              ? (\n                <button\n                  type=\"button\"\n                  data-testid=\"watch-later\"\n                  className=\"btn btn-light btn-watch-later\"\n                  onClick={() => dispatch(addToWatchLater({\n                  id: movie.id,\n                  overview: movie.overview,\n                  release_date: movie.release_date\n                    ?.substring(0, 4),\n                  poster_path: movie.poster_path,\n                  title: movie.title\n                }))}>Watch Later</button>\n              )\n              : (\n                <button\n                  type=\"button\"\n                  data-testid=\"remove-watch-later\"\n                  className=\"btn btn-light btn-watch-later blue\"\n                  onClick={() => dispatch(removeFromWatchLater(movie))}>\n                  <i className=\"bi bi-check\"></i>\n                </button>\n              )}\n            <button\n              type=\"button\"\n              className=\"btn btn-dark\"\n              onClick={(e) => {\n              closeCard(e, 'viewTrailer');\n              viewTrailer(movie)\n            }}>\n              View Trailer\n            </button>\n          </div>\n          <img\n            className=\"center-block\"\n            src={(movie.poster_path)\n            ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}`\n            : placeholder}\n            alt=\"Movie poster\"/>\n        </div>\n        <h6 className=\"title mobile-card\">{movie.title}</h6>\n        <h6 className=\"title\">{movie.title}</h6>\n        <button\n          type=\"button\"\n          className=\"close\"\n          onClick={(e) => closeCard(e)}\n          aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default Movie\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}